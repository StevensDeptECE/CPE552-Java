"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_github_paste-markdown_dist_index_esm_js-node_modules_koddsson_textarea-c-586f78"],{52769(a,b,c){function d(a,b){var c,d,e;let f=a.value.slice(0,null!==(c=a.selectionStart)&& void 0!==c?c:void 0),g=a.value.slice(null!==(d=a.selectionEnd)&& void 0!==d?d:void 0),h=!0;a.contentEditable="true";try{h=document.execCommand("insertText",!1,b)}catch(i){h=!1}if(a.contentEditable="false",h&&!a.value.slice(0,null!==(e=a.selectionStart)&& void 0!==e?e:void 0).endsWith(b)&&(h=!1),!h){try{document.execCommand("ms-beginUndoUnit")}catch(j){}a.value=f+b+g;try{document.execCommand("ms-endUndoUnit")}catch(k){}a.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0}))}}c.d(b,{Ld:()=>U});let e=new WeakMap;function f(a){let{currentTarget:b}=a,c="KeyV"===a.code&&(a.ctrlKey||a.metaKey)&&a.shiftKey;(c||c&&a.altKey)&&e.set(b,!0)}function g(a){let{currentTarget:b}=a;e.delete(b)}function h(a){var b;let c=null!==(b=e.get(a))&& void 0!==b&&b;return c}function i(a){a.addEventListener("paste",j)}function j(a){let b=a.clipboardData,{currentTarget:c}=a;if(h(c)||!b||!o(b))return;let e=a.currentTarget;if(!(e instanceof HTMLTextAreaElement)||l(e))return;let f=b.getData("text/plain"),g=b.getData("text/html"),i=g.replace(/\u00A0/g," ").replace(/\uC2A0/g," ");if(!g||!(f=f.trim()))return;let j=new DOMParser,m=j.parseFromString(i,"text/html"),p=m.createTreeWalker(m.body,NodeFilter.SHOW_ELEMENT,a=>a.parentNode&&n(a.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT),q=k(f,p);q!==f&&(a.stopPropagation(),a.preventDefault(),d(e,q))}function k(a,b){var c;let d=b.firstChild(),e=a,f=0,g=0;for(;d&&g<1e4;){g++;let h=n(d)?(d.textContent||"").replace(/[\t\n\r ]+/g," "):(null===(c=d.firstChild)|| void 0===c?void 0:c.wholeText)||"";if(m(h)){d=b.nextNode();continue}let i=e.indexOf(h,f);if(i>=0){if(n(d)){let j=p(d,h);e=e.slice(0,i)+j+e.slice(i+h.length),f=i+j.length}else f=i+h.length}d=b.nextNode()}return 1e4===g?a:e}function l(a){let b=a.selectionStart||0;if(0===b)return!1;let c=a.value.substring(b-1,b);return"@"===c}function m(a){return!a||(null==a?void 0:a.trim().length)===0}function n(a){var b;return(null===(b=a.tagName)|| void 0===b?void 0:b.toLowerCase())==="a"&&a.hasAttribute("href")}function o(a){return a.types.includes("text/html")}function p(a,b){let c=a.href||"",d="";return s(a)?b:q(a)||r(c,b)?c:`[${b}](${c})`}function q(a){return a.className.indexOf("commit-link")>=0|| !!a.getAttribute("data-hovercard-type")&&"user"!==a.getAttribute("data-hovercard-type")}function r(a,b){return a="/"===a.slice(-1)?a.slice(0,-1):a,b="/"===b.slice(-1)?b.slice(0,-1):b,a.toLowerCase()===b.toLowerCase()}function s(a){var b;return(null===(b=a.textContent)|| void 0===b?void 0:b.slice(0,1))==="@"&&"user"===a.getAttribute("data-hovercard-type")}function t(a){a.addEventListener("dragover",v),a.addEventListener("drop",u),a.addEventListener("paste",w)}function u(a){let b=a.dataTransfer;if(!b||y(b)||!z(b))return;let c=A(b);if(!c.some(C))return;a.stopPropagation(),a.preventDefault();let e=a.currentTarget;e instanceof HTMLTextAreaElement&&d(e,c.map(x).join(""))}function v(a){let b=a.dataTransfer;b&&(b.dropEffect="link")}function w(a){let{currentTarget:b}=a;if(h(b))return;let c=a.clipboardData;if(!c||!z(c))return;let e=A(c);if(!e.some(C))return;a.stopPropagation(),a.preventDefault();let f=a.currentTarget;f instanceof HTMLTextAreaElement&&d(f,e.map(x).join(""))}function x(a){return C(a)?`
![](${a})
`:a}function y(a){return Array.from(a.types).indexOf("Files")>=0}function z(a){return Array.from(a.types).indexOf("text/uri-list")>=0}function A(a){return(a.getData("text/uri-list")||"").split("\r\n")}let B=/\.(gif|png|jpe?g)$/i;function C(a){return B.test(a)}function D(a){a.addEventListener("paste",E)}function E(a){let{currentTarget:b}=a;if(h(b))return;let c=a.clipboardData;if(!c||!F(c))return;let e=a.currentTarget;if(!(e instanceof HTMLTextAreaElement))return;let f=c.getData("text/plain");if(!f||!I(f)||G(e))return;let g=e.value.substring(e.selectionStart,e.selectionEnd);g.length&&(I(g.trim())||(a.stopPropagation(),a.preventDefault(),d(e,H(g,f.trim()))))}function F(a){return Array.from(a.types).includes("text/plain")}function G(a){let b=a.selectionStart||0;if(!(b>1))return!1;{let c=a.value.substring(b-2,b);return"]("===c}}function H(a,b){return`[${a}](${b})`}function I(a){try{let b=new URL(a);return J(b.href).trim()===J(a).trim()}catch(c){return!1}}function J(a){return a.endsWith("/")?a.slice(0,a.length-1):a}function K(a){a.addEventListener("dragover",M),a.addEventListener("drop",L),a.addEventListener("paste",N)}function L(a){let b=a.dataTransfer;if(!b||O(b))return;let c=Q(b);if(!c)return;a.stopPropagation(),a.preventDefault();let e=a.currentTarget;e instanceof HTMLTextAreaElement&&d(e,c)}function M(a){let b=a.dataTransfer;b&&(b.dropEffect="copy")}function N(a){let{currentTarget:b}=a;if(h(b)||!a.clipboardData)return;let c=Q(a.clipboardData);if(!c)return;a.stopPropagation(),a.preventDefault();let e=a.currentTarget;e instanceof HTMLTextAreaElement&&d(e,c)}function O(a){return Array.from(a.types).indexOf("Files")>=0}function P(a){let b=(a.textContent||"").trim().replace(/\|/g,"\\|").replace(/\n/g," ");return b||"\xa0"}function Q(a){if(-1===Array.from(a.types).indexOf("text/html"))return;let b=a.getData("text/html");if(!/<table/i.test(b))return;let c=new DOMParser,d=c.parseFromString(b,"text/html"),e=d.querySelector("table");if(!(e=!e||e.closest("[data-paste-markdown-skip]")?null:e))return;let f=function(a){var b;let c=Array.from(a.querySelectorAll("tr")),d=c.shift();if(!d)return"";let e=Array.from((b=d).querySelectorAll("td, th")).map(P),f=e.map(()=>"--"),g=`${e.join(" | ")}
${f.join(" | ")}
`,h=c.map(a=>Array.from(a.querySelectorAll("td")).map(P).join(" | ")).join("\n");return`
${g}${h}

`}(e);return b.replace(/<meta.*?>/,"").replace(/<table[.\S\s]*<\/table>/,`
${f}`)}function R(a){a.addEventListener("paste",S)}function S(a){let{currentTarget:b}=a;if(h(b))return;let c=a.clipboardData;if(!c||!T(c))return;let e=a.currentTarget;if(!(e instanceof HTMLTextAreaElement))return;let f=c.getData("text/x-gfm");f&&(a.stopPropagation(),a.preventDefault(),d(e,f))}function T(a){return Array.from(a.types).indexOf("text/x-gfm")>=0}function U(a){return!function(a,...b){for(let c of(a.addEventListener("keydown",f),b))c(a);a.addEventListener("paste",g)}(a,K,t,D,R,i),{unsubscribe(){var b,c,d;(b=a).removeEventListener("keydown",f),b.removeEventListener("paste",g),(c=a).removeEventListener("dragover",M),c.removeEventListener("drop",L),c.removeEventListener("paste",N),function(a){a.removeEventListener("paste",j)}(a),(d=a).removeEventListener("dragover",v),d.removeEventListener("drop",u),d.removeEventListener("paste",w),function(a){a.removeEventListener("paste",E)}(a),function(a){a.removeEventListener("paste",S)}(a)}}}},89900(a,b,c){c.d(b,{Z:()=>g});let d=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],e="undefined"!=typeof window,f=e&&null!=window.mozInnerScreenX;function g(a,b,c){let e=c&&c.debug||!1;if(e){let g=document.querySelector("#input-textarea-caret-position-mirror-div");g&&g.parentNode.removeChild(g)}let h=document.createElement("div");h.id="input-textarea-caret-position-mirror-div",document.body.appendChild(h);let i=h.style,j=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,k="INPUT"===a.nodeName;for(let l of(i.whiteSpace="pre-wrap",k||(i.wordWrap="break-word"),i.position="absolute",e||(i.visibility="hidden"),d))if(k&&"lineHeight"===l){if("border-box"===j.boxSizing){let m=parseInt(j.height),n=parseInt(j.paddingTop)+parseInt(j.paddingBottom)+parseInt(j.borderTopWidth)+parseInt(j.borderBottomWidth),o=n+parseInt(j.lineHeight);m>o?i.lineHeight=`${m-n}px`:m===o?i.lineHeight=j.lineHeight:i.lineHeight=0}else i.lineHeight=j.height}else if(k||"width"!==l||"border-box"!==j.boxSizing)i[l]=j[l];else{let p=parseFloat(j.borderLeftWidth)+parseFloat(j.borderRightWidth),q=f?parseFloat(j[l])-p:a.clientWidth+p;i[l]=`${q}px`}f?a.scrollHeight>parseInt(j.height)&&(i.overflowY="scroll"):i.overflow="hidden",h.textContent=a.value.substring(0,b),k&&(h.textContent=h.textContent.replace(/\s/g,"\xa0"));let r=document.createElement("span");r.textContent=a.value.substring(b)||".",h.appendChild(r);let s={top:r.offsetTop+parseInt(j.borderTopWidth),left:r.offsetLeft+parseInt(j.borderLeftWidth),height:parseInt(j.lineHeight)};return e?r.style.backgroundColor="#aaa":document.body.removeChild(h),s}}}])
//# sourceMappingURL=vendors-node_modules_github_paste-markdown_dist_index_esm_js-node_modules_koddsson_textarea-c-586f78-95250931af99.js.map