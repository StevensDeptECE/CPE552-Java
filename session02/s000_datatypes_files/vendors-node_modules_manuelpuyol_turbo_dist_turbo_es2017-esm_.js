"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_manuelpuyol_turbo_dist_turbo_es2017-esm_js"],{74395(a,b,c){c.r(b),c.d(b,{FrameRenderer:()=>FrameRenderer,PageRenderer:()=>PageRenderer,PageSnapshot:()=>PageSnapshot,StreamActions:()=>T,cache:()=>V,clearCache:()=>ab,connectStreamSource:()=>$,disconnectStreamSource:()=>_,navigator:()=>W,registerAdapter:()=>Y,renderStreamMessage:()=>aa,session:()=>U,setConfirmMethod:()=>ad,setFormMode:()=>ae,setProgressBarDelay:()=>ac,start:()=>X,visit:()=>Z}),function(){if(void 0===window.Reflect|| void 0===window.customElements||window.customElements.polyfillWrapFlushCallback)return;let a=HTMLElement;window.HTMLElement=({HTMLElement:function(){return Reflect.construct(a,[],this.constructor)}}).HTMLElement,HTMLElement.prototype=a.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,a)}(),function(a){function b(a,b,c){throw new a("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+b+".",c)}"function"!=typeof a.requestSubmit&&(a.requestSubmit=function(a){var c,d;a?(c=a,d=this,c instanceof HTMLElement||b(TypeError,"parameter 1 is not of type 'HTMLElement'"),"submit"==c.type||b(TypeError,"The specified element is not a submit button"),c.form==d||b(DOMException,"The specified element is not owned by this form element","NotFoundError"),a.click()):((a=document.createElement("input")).type="submit",a.hidden=!0,this.appendChild(a),a.click(),this.removeChild(a))})}(HTMLFormElement.prototype);let d=new WeakMap;function e(a){let b=function(a){let b=a instanceof Element?a:a instanceof Node?a.parentElement:null,c=b?b.closest("input, button"):null;return(null==c?void 0:c.type)=="submit"?c:null}(a.target);b&&b.form&&d.set(b.form,b)}!function(){if("submitter"in Event.prototype)return;let a;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))a=window.SubmitEvent.prototype;else{if("SubmitEvent"in window)return;a=window.Event.prototype}addEventListener("click",e,!0),Object.defineProperty(a,"submitter",{get(){if("submit"==this.type&&this.target instanceof HTMLFormElement)return d.get(this.target)}})}(),(af=an||(an={})).eager="eager",af.lazy="lazy";class FrameElement extends HTMLElement{constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new FrameElement.delegateConstructor(this)}static get observedAttributes(){return["disabled","complete","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){let{src:a}=this;this.removeAttribute("complete"),this.src=null,this.src=a}attributeChangedCallback(a){"loading"==a?this.delegate.loadingStyleChanged():"complete"==a?this.delegate.completeChanged():"src"==a?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(a){a?this.setAttribute("src",a):this.removeAttribute("src")}get loading(){return f(this.getAttribute("loading")||"")}set loading(a){a?this.setAttribute("loading",a):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(a){a?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(a){a?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var a,b;return null===(b=null===(a=this.ownerDocument)|| void 0===a?void 0:a.documentElement)|| void 0===b?void 0:b.hasAttribute("data-turbo-preview")}}function f(a){return"lazy"===a.toLowerCase()?an.lazy:(0,an.eager)}function g(a){return new URL(a.toString(),document.baseURI)}function h(a){let b;return a.hash?a.hash.slice(1):(b=a.href.match(/#(.*)$/))?b[1]:void 0}function i(a,b){let c=(null==b?void 0:b.getAttribute("formaction"))||a.getAttribute("action")||a.action;return g(c)}function j(a){let b=h(a);return null!=b?a.href.slice(0,-(b.length+1)):a.href}function k(a){return j(a)}function l(a){return a.endsWith("/")?a:a+"/"}class FetchResponse{constructor(a){this.response=a}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return g(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(a){return this.response.headers.get(a)}}function m(a){return"advance"==a||"replace"==a||"restore"==a}function n(a,{target:b,cancelable:c,detail:d}={}){let e=new CustomEvent(a,{cancelable:c,bubbles:!0,detail:d});return b&&b.isConnected?b.dispatchEvent(e):document.documentElement.dispatchEvent(e),e}function o(){return new Promise(a=>requestAnimationFrame(()=>a()))}function p(a=""){return new DOMParser().parseFromString(a,"text/html")}function q(a,...b){let c=r(a,b).replace(/^\n/,"").split("\n"),d=c[0].match(/^\s+/),e=d?d[0].length:0;return c.map(a=>a.slice(e)).join("\n")}function r(a,b){return a.reduce((a,c,d)=>{let e=void 0==b[d]?"":b[d];return a+c+e},"")}function s(){return Array.from({length:36}).map((a,b)=>8==b||13==b||18==b||23==b?"-":14==b?"4":19==b?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16)).join("")}function t(a,...b){for(let c of b.map(b=>null==b?void 0:b.getAttribute(a)))if("string"==typeof c)return c;return null}function u(...a){for(let b of a)"turbo-frame"==b.localName&&b.setAttribute("busy",""),b.setAttribute("aria-busy","true")}function v(...a){for(let b of a)"turbo-frame"==b.localName&&b.removeAttribute("busy"),b.removeAttribute("aria-busy")}function w(a){switch(a){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function x(a){return document.querySelector(`meta[name="${a}"]`)}function y(a){let b=x(a);return b&&b.content}(ag=ao||(ao={}))[ag.get=0]="get",ag[ag.post=1]="post",ag[ag.put=2]="put",ag[ag.patch=3]="patch",ag[ag.delete=4]="delete";class FetchRequest{constructor(a,b,c,d=new URLSearchParams,e=null){this.abortController=new AbortController,this.resolveRequestPromise=a=>{},this.delegate=a,this.method=b,this.headers=this.defaultHeaders,this.body=d,this.url=c,this.target=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){var a,b;let{fetchOptions:c}=this;null===(b=(a=this.delegate).prepareHeadersForRequest)|| void 0===b||b.call(a,this.headers,this),await this.allowRequestToBeIntercepted(c);try{this.delegate.requestStarted(this);let d=await fetch(this.url.href,c);return await this.receive(d)}catch(e){if("AbortError"!==e.name)throw this.delegate.requestErrored(this,e),e}finally{this.delegate.requestFinished(this)}}async receive(a){let b=new FetchResponse(a),c=n("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:b},target:this.target});return c.defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,b):b.succeeded?this.delegate.requestSucceededWithResponse(this,b):this.delegate.requestFailedWithResponse(this,b),b}get fetchOptions(){var a;return{method:ao[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isIdempotent?null:this.body,signal:this.abortSignal,referrer:null===(a=this.delegate.referrer)|| void 0===a?void 0:a.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isIdempotent(){return this.method==ao.get}get abortSignal(){return this.abortController.signal}async allowRequestToBeIntercepted(a){let b=new Promise(a=>this.resolveRequestPromise=a),c=n("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:a,url:this.url,resume:this.resolveRequestPromise},target:this.target});c.defaultPrevented&&await b}}class StreamMessage{constructor(a){this.templateElement=document.createElement("template"),this.templateElement.innerHTML=a}static wrap(a){return"string"==typeof a?new this(a):a}get fragment(){let a=document.createDocumentFragment();for(let b of this.foreignElements)a.appendChild(document.importNode(b,!0));return a}get foreignElements(){return this.templateChildren.reduce((a,b)=>"turbo-stream"==b.tagName.toLowerCase()?[...a,b]:a,[])}get templateChildren(){return Array.from(this.templateElement.content.children)}}StreamMessage.contentType="text/vnd.turbo-stream.html",(ah=ap||(ap={}))[ah.initialized=0]="initialized",ah[ah.requesting=1]="requesting",ah[ah.waiting=2]="waiting",ah[ah.receiving=3]="receiving",ah[ah.stopping=4]="stopping",ah[ah.stopped=5]="stopped",(ai=aq||(aq={})).urlEncoded="application/x-www-form-urlencoded",ai.multipart="multipart/form-data",ai.plain="text/plain";class FormSubmission{constructor(a,b,c,d=!1){this.state=ap.initialized,this.delegate=a,this.formElement=b,this.submitter=c,this.formData=function(a,b){let c=new FormData(a),d=null==b?void 0:b.getAttribute("name"),e=null==b?void 0:b.getAttribute("value");return d&&null!=e&&c.get(d)!=e&&c.append(d,e),c}(b,c),this.location=g(this.action),this.method==ao.get&&function(a,b){let c=new URLSearchParams;for(let[d,e]of b)e instanceof File||c.append(d,e);a.search=c.toString()}(this.location,[...this.body.entries()]),this.fetchRequest=new FetchRequest(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=d}static confirmMethod(a,b){return Promise.resolve(confirm(a))}get method(){var a;let b=(null===(a=this.submitter)|| void 0===a?void 0:a.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return function(a){switch(a.toLowerCase()){case"get":return ao.get;case"post":return ao.post;case"put":return ao.put;case"patch":return ao.patch;case"delete":return ao.delete}}(b.toLowerCase())||ao.get}get action(){var a;let b="string"==typeof this.formElement.action?this.formElement.action:null;return(null===(a=this.submitter)|| void 0===a?void 0:a.hasAttribute("formaction"))?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||b||""}get body(){return this.enctype==aq.urlEncoded||this.method==ao.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var a;return function(a){switch(a.toLowerCase()){case aq.multipart:return aq.multipart;case aq.plain:return aq.plain;default:return aq.urlEncoded}}((null===(a=this.submitter)|| void 0===a?void 0:a.getAttribute("formenctype"))||this.formElement.enctype)}get isIdempotent(){return this.fetchRequest.isIdempotent}get stringFormData(){return[...this.formData].reduce((a,[b,c])=>a.concat("string"==typeof c?[[b,c]]:[]),[])}get confirmationMessage(){var a;return(null===(a=this.submitter)|| void 0===a?void 0:a.getAttribute("data-turbo-confirm"))||this.formElement.getAttribute("data-turbo-confirm")}get needsConfirmation(){return null!==this.confirmationMessage}async start(){let{initialized:a,requesting:b}=ap;if(this.needsConfirmation){let c=await FormSubmission.confirmMethod(this.confirmationMessage,this.formElement);if(!c)return}if(this.state==a)return this.state=b,this.fetchRequest.perform()}stop(){let{stopping:a,stopped:b}=ap;if(this.state!=a&&this.state!=b)return this.state=a,this.fetchRequest.cancel(),!0}prepareHeadersForRequest(a,b){if(!b.isIdempotent){let c=z(y("csrf-param"))||y("csrf-token");c&&(a["X-CSRF-Token"]=c)}this.requestAcceptsTurboStreamResponse(b)&&(a.Accept=[StreamMessage.contentType,a.Accept].join(", "))}requestStarted(a){var b;this.state=ap.waiting,null===(b=this.submitter)|| void 0===b||b.setAttribute("disabled",""),n("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(a,b){this.result={success:b.succeeded,fetchResponse:b}}requestSucceededWithResponse(a,b){if(b.clientError||b.serverError)this.delegate.formSubmissionFailedWithResponse(this,b);else if(this.requestMustRedirect(a)&&A(b)){let c=Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,c)}else this.state=ap.receiving,this.result={success:!0,fetchResponse:b},this.delegate.formSubmissionSucceededWithResponse(this,b)}requestFailedWithResponse(a,b){this.result={success:!1,fetchResponse:b},this.delegate.formSubmissionFailedWithResponse(this,b)}requestErrored(a,b){this.result={success:!1,error:b},this.delegate.formSubmissionErrored(this,b)}requestFinished(a){var b;this.state=ap.stopped,null===(b=this.submitter)|| void 0===b||b.removeAttribute("disabled"),n("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}requestMustRedirect(a){return!a.isIdempotent&&this.mustRedirect}requestAcceptsTurboStreamResponse(a){return!a.isIdempotent||this.formElement.hasAttribute("data-turbo-stream")}}function z(a){if(null!=a){let b=document.cookie?document.cookie.split("; "):[],c=b.find(b=>b.startsWith(a));if(c){let d=c.split("=").slice(1).join("=");return d?decodeURIComponent(d):void 0}}}function A(a){return 200==a.statusCode&&!a.redirected}class Snapshot{constructor(a){this.element=a}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(a){return null!=this.getElementForAnchor(a)}getElementForAnchor(a){return a?this.element.querySelector(`[id='${a}'], a[name='${a}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return this.element.querySelector("[autofocus]")}get permanentElements(){return[...this.element.querySelectorAll("[id][data-turbo-permanent]")]}getPermanentElementById(a){return this.element.querySelector(`#${a}[data-turbo-permanent]`)}getPermanentElementMapForSnapshot(a){let b={};for(let c of this.permanentElements){let{id:d}=c,e=a.getPermanentElementById(d);e&&(b[d]=[c,e])}return b}}class FormSubmitObserver{constructor(a,b){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=a=>{if(!a.defaultPrevented){let b=a.target instanceof HTMLFormElement?a.target:void 0,c=a.submitter||void 0;b&&B(b,c)&&C(b,c)&&this.delegate.willSubmitForm(b,c)&&(a.preventDefault(),this.delegate.formSubmitted(b,c))}},this.delegate=a,this.eventTarget=b}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}function B(a,b){let c=(null==b?void 0:b.getAttribute("formmethod"))||a.getAttribute("method");return"dialog"!=c}function C(a,b){let c=(null==b?void 0:b.getAttribute("formtarget"))||a.target;for(let d of document.getElementsByName(c))if(d instanceof HTMLIFrameElement)return!1;return!0}class View{constructor(a,b){this.resolveRenderPromise=a=>{},this.resolveInterceptionPromise=a=>{},this.delegate=a,this.element=b}scrollToAnchor(a){let b=this.snapshot.getElementForAnchor(a);b?(this.scrollToElement(b),this.focusElement(b)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(a){this.scrollToAnchor(h(a))}scrollToElement(a){a.scrollIntoView()}focusElement(a){a instanceof HTMLElement&&(a.hasAttribute("tabindex")?a.focus():(a.setAttribute("tabindex","-1"),a.focus(),a.removeAttribute("tabindex")))}scrollToPosition({x:a,y:b}){this.scrollRoot.scrollTo(a,b)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(a){let{isPreview:b,shouldRender:c,newSnapshot:d}=a;if(c)try{this.renderPromise=new Promise(a=>this.resolveRenderPromise=a),this.renderer=a,this.prepareToRenderSnapshot(a);let e=new Promise(a=>this.resolveInterceptionPromise=a),f={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement},g=this.delegate.allowsImmediateRender(d,f);g||await e,await this.renderSnapshot(a),this.delegate.viewRenderedSnapshot(d,b),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(a)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(a.reloadReason)}invalidate(a){this.delegate.viewInvalidated(a)}prepareToRenderSnapshot(a){this.markAsPreview(a.isPreview),a.prepareToRender()}markAsPreview(a){a?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(a){await a.render()}finishRenderingSnapshot(a){a.finishRendering()}}class LinkInterceptor{constructor(a,b){this.clickBubbled=a=>{this.respondsToEventTarget(a.target)?this.clickEvent=a:delete this.clickEvent},this.linkClicked=a=>{this.clickEvent&&this.respondsToEventTarget(a.target)&&a.target instanceof Element&&this.delegate.shouldInterceptLinkClick(a.target,a.detail.url)&&(this.clickEvent.preventDefault(),a.preventDefault(),this.delegate.linkClickIntercepted(a.target,a.detail.url)),delete this.clickEvent},this.willVisit=a=>{delete this.clickEvent},this.delegate=a,this.element=b}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(a){let b=a instanceof Element?a:a instanceof Node?a.parentElement:null;return b&&b.closest("turbo-frame, html")==this.element}}class FormLinkInterceptor{constructor(a,b){this.delegate=a,this.linkInterceptor=new LinkInterceptor(this,b)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}shouldInterceptLinkClick(a){return this.delegate.shouldInterceptFormLinkClick(a)&&(a.hasAttribute("data-turbo-method")||a.hasAttribute("data-turbo-stream"))}linkClickIntercepted(a,b){let c=document.createElement("form");c.setAttribute("data-turbo","true"),c.setAttribute("action",b),c.setAttribute("hidden","");let d=a.getAttribute("data-turbo-method");d&&c.setAttribute("method",d);let e=a.getAttribute("data-turbo-frame");e&&c.setAttribute("data-turbo-frame",e);let f=a.getAttribute("data-turbo-confirm");f&&c.setAttribute("data-turbo-confirm",f);let g=a.hasAttribute("data-turbo-stream");g&&c.setAttribute("data-turbo-stream",""),this.delegate.formLinkClickIntercepted(a,c),document.body.appendChild(c),c.requestSubmit(),c.remove()}}class Bardo{constructor(a,b){this.delegate=a,this.permanentElementMap=b}static preservingPermanentElements(a,b,c){let d=new this(a,b);d.enter(),c(),d.leave()}enter(){for(let a in this.permanentElementMap){let[b,c]=this.permanentElementMap[a];this.delegate.enteringBardo(b,c),this.replaceNewPermanentElementWithPlaceholder(c)}}leave(){for(let a in this.permanentElementMap){let[b]=this.permanentElementMap[a];this.replaceCurrentPermanentElementWithClone(b),this.replacePlaceholderWithPermanentElement(b),this.delegate.leavingBardo(b)}}replaceNewPermanentElementWithPlaceholder(a){let b=D(a);a.replaceWith(b)}replaceCurrentPermanentElementWithClone(a){let b=a.cloneNode(!0);a.replaceWith(b)}replacePlaceholderWithPermanentElement(a){let b=this.getPlaceholderById(a.id);null==b||b.replaceWith(a)}getPlaceholderById(a){return this.placeholders.find(b=>b.content==a)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function D(a){let b=document.createElement("meta");return b.setAttribute("name","turbo-permanent-placeholder"),b.setAttribute("content",a.id),b}class Renderer{constructor(a,b,c,d,e=!0){this.activeElement=null,this.currentSnapshot=a,this.newSnapshot=b,this.isPreview=d,this.willRender=e,this.renderElement=c,this.promise=new Promise((a,b)=>this.resolvingFunctions={resolve:a,reject:b})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}createScriptElement(a){if("false"==a.getAttribute("data-turbo-eval"))return a;{let b=document.createElement("script");return this.cspNonce&&(b.nonce=this.cspNonce),b.textContent=a.textContent,b.async=!1,E(b,a),b}}preservingPermanentElements(a){Bardo.preservingPermanentElements(this,this.permanentElementMap,a)}focusFirstAutofocusableElement(){let a=this.connectedSnapshot.firstAutofocusableElement;F(a)&&a.focus()}enteringBardo(a){!this.activeElement&&a.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(a){a.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get cspNonce(){return y("csp-nonce")}}function E(a,b){for(let{name:c,value:d}of[...b.attributes])a.setAttribute(c,d)}function F(a){return a&&"function"==typeof a.focus}class FrameRenderer extends Renderer{constructor(a,b,c,d,e,f=!0){super(b,c,d,e,f),this.delegate=a}static renderElement(a,b){var c;let d=document.createRange();d.selectNodeContents(a),d.deleteContents();let e=b,f=null===(c=e.ownerDocument)|| void 0===c?void 0:c.createRange();f&&(f.selectNodeContents(e),a.appendChild(f.extractContents()))}get shouldRender(){return!0}async render(){await o(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await o(),this.focusFirstAutofocusableElement(),await o(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let a=this.currentElement.firstElementChild,b=G(this.currentElement.getAttribute("data-autoscroll-block"),"end"),c=H(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(a)return a.scrollIntoView({block:b,behavior:c}),!0}return!1}activateScriptElements(){for(let a of this.newScriptElements){let b=this.createScriptElement(a);a.replaceWith(b)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function G(a,b){return"end"==a||"start"==a||"center"==a||"nearest"==a?a:b}function H(a,b){return"auto"==a||"smooth"==a?a:b}class ProgressBar{constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return q`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${ProgressBar.animationDuration}ms ease-out,
          opacity ${ProgressBar.animationDuration/2}ms ${ProgressBar.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(a){this.value=a,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(a){this.progressElement.style.opacity="0",setTimeout(a,1.5*ProgressBar.animationDuration)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,ProgressBar.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+90*this.value}%`})}createStylesheetElement(){let a=document.createElement("style");return a.type="text/css",a.textContent=ProgressBar.defaultCSS,this.cspNonce&&(a.nonce=this.cspNonce),a}createProgressElement(){let a=document.createElement("div");return a.className="turbo-progress-bar",a}get cspNonce(){return y("csp-nonce")}}ProgressBar.animationDuration=300;class HeadSnapshot extends Snapshot{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(a=>!L(a)).map(a=>O(a)).reduce((a,b)=>{let{outerHTML:c}=b,d=c in a?a[c]:{type:I(b),tracked:J(b),elements:[]};return Object.assign(Object.assign({},a),{[c]:Object.assign(Object.assign({},d),{elements:[...d.elements,b]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(a=>this.detailsByOuterHTML[a].tracked).join("")}getScriptElementsNotInSnapshot(a){return this.getElementsMatchingTypeNotInSnapshot("script",a)}getStylesheetElementsNotInSnapshot(a){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",a)}getElementsMatchingTypeNotInSnapshot(a,b){return Object.keys(this.detailsByOuterHTML).filter(a=>!(a in b.detailsByOuterHTML)).map(a=>this.detailsByOuterHTML[a]).filter(({type:b})=>b==a).map(({elements:[a]})=>a)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((a,b)=>{let{type:c,tracked:d,elements:e}=this.detailsByOuterHTML[b];return null!=c||d?e.length>1?[...a,...e.slice(1)]:a:[...a,...e]},[])}getMetaValue(a){let b=this.findMetaElementByName(a);return b?b.getAttribute("content"):null}findMetaElementByName(a){return Object.keys(this.detailsByOuterHTML).reduce((b,c)=>{let{elements:[d]}=this.detailsByOuterHTML[c];return N(d,a)?d:b},void 0)}}function I(a){return K(a)?"script":M(a)?"stylesheet":void 0}function J(a){return"reload"==a.getAttribute("data-turbo-track")}function K(a){let b=a.tagName.toLowerCase();return"script"==b}function L(a){let b=a.tagName.toLowerCase();return"noscript"==b}function M(a){let b=a.tagName.toLowerCase();return"style"==b||"link"==b&&"stylesheet"==a.getAttribute("rel")}function N(a,b){let c=a.tagName.toLowerCase();return"meta"==c&&a.getAttribute("name")==b}function O(a){return a.hasAttribute("nonce")&&a.setAttribute("nonce",""),a}class PageSnapshot extends Snapshot{constructor(a,b){super(a),this.headSnapshot=b}static fromHTMLString(a=""){return this.fromDocument(p(a))}static fromElement(a){return this.fromDocument(a.ownerDocument)}static fromDocument({head:a,body:b}){return new this(b,new HeadSnapshot(a))}clone(){return new PageSnapshot(this.element.cloneNode(!0),this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var a;let b=null!==(a=this.getSetting("root"))&& void 0!==a?a:"/";return g(b)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return"no-preview"!=this.cacheControlValue}get isCacheable(){return"no-cache"!=this.cacheControlValue}get isVisitable(){return"reload"!=this.getSetting("visit-control")}getSetting(a){return this.headSnapshot.getMetaValue(`turbo-${a}`)}}(aj=ar||(ar={})).visitStart="visitStart",aj.requestStart="requestStart",aj.requestEnd="requestEnd",aj.visitEnd="visitEnd",(ak=as||(as={})).initialized="initialized",ak.started="started",ak.canceled="canceled",ak.failed="failed",ak.completed="completed";let P={action:"advance",historyChanged:!1,visitCachedSnapshot(){},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0};(al=at||(at={}))[al.networkFailure=0]="networkFailure",al[al.timeoutFailure=-1]="timeoutFailure",al[al.contentTypeMismatch=-2]="contentTypeMismatch";class Visit{constructor(a,b,c,d={}){this.identifier=s(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.snapshotCached=!1,this.state=as.initialized,this.delegate=a,this.location=b,this.restorationIdentifier=c||s();let{action:e,historyChanged:f,referrer:g,snapshotHTML:h,response:i,visitCachedSnapshot:j,willRender:k,updateHistory:l,shouldCacheSnapshot:m}=Object.assign(Object.assign({},P),d);this.action=e,this.historyChanged=f,this.referrer=g,this.snapshotHTML=h,this.response=i,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=j,this.willRender=k,this.updateHistory=l,this.scrolled=!k,this.shouldCacheSnapshot=m}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==as.initialized&&(this.recordTimingMetric(ar.visitStart),this.state=as.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==as.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=as.canceled)}complete(){this.state!=as.started||(this.recordTimingMetric(ar.visitEnd),this.state=as.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==as.started&&(this.state=as.failed,this.adapter.visitFailed(this))}changeHistory(){var a;if(!this.historyChanged&&this.updateHistory){let b=this.location.href===(null===(a=this.referrer)|| void 0===a?void 0:a.href)?"replace":this.action,c=w(b);this.history.update(c,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new FetchRequest(this,ao.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(ar.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(a=this.response){if(this.response=a,a){let{statusCode:b}=a;Q(b)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,b)}}finishRequest(){this.recordTimingMetric(ar.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:a,responseHTML:b}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,Q(a)&&null!=b?(await this.view.renderPage(PageSnapshot.fromHTMLString(b),!1,this.willRender,this),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(PageSnapshot.fromHTMLString(b),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){let a=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(a&&(!h(this.location)||a.hasAnchor(h(this.location)))&&("restore"==this.action||a.isPreviewable))return a}getPreloadedSnapshot(){if(this.snapshotHTML)return PageSnapshot.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return null!=this.getCachedSnapshot()}loadCachedSnapshot(){let a=this.getCachedSnapshot();if(a){let b=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(a,b,this.willRender,this),this.adapter.visitRendered(this),b||this.complete())})}}followRedirect(){var a;this.redirectedToLocation&&!this.followedRedirect&&(null===(a=this.response)|| void 0===a?void 0:a.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",willRender:!1,response:this.response}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.adapter.visitRendered(this)})}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(a,b){}async requestSucceededWithResponse(a,b){let c=await b.responseHTML,{redirected:d,statusCode:e}=b;void 0==c?this.recordResponse({statusCode:at.contentTypeMismatch,redirected:d}):(this.redirectedToLocation=b.redirected?b.location:void 0,this.recordResponse({statusCode:e,responseHTML:c,redirected:d}))}async requestFailedWithResponse(a,b){let c=await b.responseHTML,{redirected:d,statusCode:e}=b;void 0==c?this.recordResponse({statusCode:at.contentTypeMismatch,redirected:d}):this.recordResponse({statusCode:e,responseHTML:c,redirected:d})}requestErrored(a,b){this.recordResponse({statusCode:at.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){this.scrolled||("restore"==this.action?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:a}=this.restorationData;if(a)return this.view.scrollToPosition(a),!0}scrollToAnchor(){let a=h(this.location);if(null!=a)return this.view.scrollToAnchor(a),!0}recordTimingMetric(a){this.timingMetrics[a]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(a){switch(a){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return"object"==typeof this.response}shouldIssueRequest(){return!this.isSamePage&&("restore"==this.action?!this.hasCachedSnapshot():this.willRender)}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot().then(a=>a&&this.visitCachedSnapshot(a)),this.snapshotCached=!0)}async render(a){this.cancelRender(),await new Promise(a=>{this.frame=requestAnimationFrame(()=>a())}),await a(),delete this.frame,this.view.forceReloaded||this.performScroll()}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function Q(a){return a>=200&&a<300}(am=au||(au={}))[am.initial=0]="initial",am[am.loading=1]="loading",am[am.interactive=2]="interactive",am[am.complete=3]="complete";class ErrorRenderer extends Renderer{static renderElement(a,b){let{documentElement:c,body:d}=document;c.replaceChild(b,d)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:a,head:b}=document;a.replaceChild(this.newHead,b),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let a of this.scriptElements){let b=a.parentNode;if(b){let c=this.createScriptElement(a);b.replaceChild(c,a)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return[...document.documentElement.querySelectorAll("script")]}}class PageRenderer extends Renderer{static renderElement(a,b){document.body&&b instanceof HTMLBodyElement?document.body.replaceWith(b):document.documentElement.appendChild(b)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){return this.newSnapshot.isVisitable?this.trackedElementsAreIdentical?void 0:{reason:"tracked_element_mismatch"}:{reason:"turbo_visit_control_is_reload"}}prepareToRender(){this.mergeHead()}async render(){this.willRender&&this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}mergeHead(){this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()}replaceBody(){this.preservingPermanentElements(()=>{this.activateNewBody(),this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}copyNewHeadStylesheetElements(){for(let a of this.newHeadStylesheetElements)document.head.appendChild(a)}copyNewHeadScriptElements(){for(let a of this.newHeadScriptElements)document.head.appendChild(this.createScriptElement(a))}removeCurrentHeadProvisionalElements(){for(let a of this.currentHeadProvisionalElements)document.head.removeChild(a)}copyNewHeadProvisionalElements(){for(let a of this.newHeadProvisionalElements)document.head.appendChild(a)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let a of this.newBodyScriptElements){let b=this.createScriptElement(a);a.replaceWith(b)}}assignNewBody(){this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}function R(a){Object.defineProperties(a,S)}let S={absoluteURL:{get(){return this.toString()}}},T={after(){this.targetElements.forEach(a=>{var b;return null===(b=a.parentElement)|| void 0===b?void 0:b.insertBefore(this.templateContent,a.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(a=>a.append(this.templateContent))},before(){this.targetElements.forEach(a=>{var b;return null===(b=a.parentElement)|| void 0===b?void 0:b.insertBefore(this.templateContent,a)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(a=>a.prepend(this.templateContent))},remove(){this.targetElements.forEach(a=>a.remove())},replace(){this.targetElements.forEach(a=>a.replaceWith(this.templateContent))},update(){this.targetElements.forEach(a=>a.replaceChildren(this.templateContent))}},U=new class Session{constructor(){this.navigator=new class Navigator{constructor(a){this.delegate=a}proposeVisit(a,b={}){this.delegate.allowsVisitingLocationWithAction(a,b.action)&&(this.delegate.locationIsVisitable(a,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(a,b):window.location.href=a.toString())}startVisit(a,b,c={}){this.lastVisit=this.currentVisit,this.stop(),this.currentVisit=new Visit(this,g(a),b,Object.assign({referrer:this.location},c)),this.currentVisit.start()}submitForm(a,b){this.stop(),this.formSubmission=new FormSubmission(this,a,b,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(a){"function"==typeof this.adapter.formSubmissionStarted&&this.adapter.formSubmissionStarted(a)}async formSubmissionSucceededWithResponse(a,b){if(a==this.formSubmission){let c=await b.responseHTML;if(c){let d=a.method==ao.get;d||this.view.clearSnapshotCache();let{statusCode:e,redirected:f}=b,g=this.getActionForFormSubmission(a),h={action:g,shouldCacheSnapshot:d,response:{statusCode:e,responseHTML:c,redirected:f}};this.proposeVisit(b.location,h)}}}async formSubmissionFailedWithResponse(a,b){let c=await b.responseHTML;if(c){let d=PageSnapshot.fromHTMLString(c);b.serverError?await this.view.renderError(d,this.currentVisit):await this.view.renderPage(d,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(a,b){console.error(b)}formSubmissionFinished(a){"function"==typeof this.adapter.formSubmissionFinished&&this.adapter.formSubmissionFinished(a)}visitStarted(a){this.delegate.visitStarted(a)}visitCompleted(a){this.delegate.visitCompleted(a)}locationWithActionIsSamePage(a,b){var c;let d=h(a),e=(null===(c=this.lastVisit)|| void 0===c?void 0:c.location)||this.view.lastRenderedLocation,f=h(e);return"replace"!==b&&j(a)===j(e)&&("restore"===b&& void 0===d||null!=d&&d!==f)}visitScrolledToSamePageLocation(a,b){this.delegate.visitScrolledToSamePageLocation(a,b)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission(a){let{formElement:b,submitter:c}=a,d=t("data-turbo-action",c,b);return m(d)?d:"advance"}}(this),this.history=new class History{constructor(a){this.restorationIdentifier=s(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=a=>{if(this.shouldHandlePopState()){let{turbo:b}=a.state||{};if(b){this.location=new URL(window.location.href);let{restorationIdentifier:c}=b;this.restorationIdentifier=c,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,c)}}},this.onPageLoad=async a=>{await Promise.resolve(),this.pageLoaded=!0},this.delegate=a}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(a,b){this.update(history.pushState,a,b)}replace(a,b){this.update(history.replaceState,a,b)}update(a,b,c=s()){a.call(history,{turbo:{restorationIdentifier:c}},"",b.href),this.location=b,this.restorationIdentifier=c}getRestorationDataForIdentifier(a){return this.restorationData[a]||{}}updateRestorationData(a){let{restorationIdentifier:b}=this,c=this.restorationData[b];this.restorationData[b]=Object.assign(Object.assign({},c),a)}assumeControlOfScrollRestoration(){var a;this.previousScrollRestoration||(this.previousScrollRestoration=null!==(a=history.scrollRestoration)&& void 0!==a?a:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||"complete"==document.readyState}}(this),this.preloader=new class Preloader{constructor(a){this.selector="a[data-turbo-preload]",this.delegate=a}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if("loading"===document.readyState)return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(a){for(let b of a.querySelectorAll(this.selector))this.preloadURL(b)}async preloadURL(a){let b=new URL(a.href);if(!this.snapshotCache.has(b))try{let c=await fetch(b.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}}),d=await c.text(),e=PageSnapshot.fromHTMLString(d);this.snapshotCache.put(b,e)}catch(f){}}}(this),this.view=new class PageView extends View{constructor(){super(...arguments),this.snapshotCache=new class SnapshotCache{constructor(a){this.keys=[],this.snapshots={},this.size=a}has(a){return k(a) in this.snapshots}get(a){if(this.has(a)){let b=this.read(a);return this.touch(a),b}}put(a,b){return this.write(a,b),this.touch(a),b}clear(){this.snapshots={}}read(a){return this.snapshots[k(a)]}write(a,b){this.snapshots[k(a)]=b}touch(a){let b=k(a),c=this.keys.indexOf(b);c> -1&&this.keys.splice(c,1),this.keys.unshift(b),this.trim()}trim(){for(let a of this.keys.splice(this.size))delete this.snapshots[a]}}(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(a,b=!1,c=!0,d){let e=new PageRenderer(this.snapshot,a,PageRenderer.renderElement,b,c);return e.shouldRender?null==d||d.changeHistory():this.forceReloaded=!0,this.render(e)}renderError(a,b){null==b||b.changeHistory();let c=new ErrorRenderer(this.snapshot,a,ErrorRenderer.renderElement,!1);return this.render(c)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(){if(this.shouldCacheSnapshot){this.delegate.viewWillCacheSnapshot();let{snapshot:a,lastRenderedLocation:b}=this;await new Promise(a=>setTimeout(()=>a(),0));let c=a.clone();return this.snapshotCache.put(b,c),c}}getCachedSnapshotForLocation(a){return this.snapshotCache.get(a)}get snapshot(){return PageSnapshot.fromElement(this.element)}get shouldCacheSnapshot(){return this.snapshot.isCacheable}}(this,document.documentElement),this.adapter=new class BrowserAdapter{constructor(a){this.progressBar=new ProgressBar,this.showProgressBar=()=>{this.progressBar.show()},this.session=a}visitProposedToLocation(a,b){this.navigator.startVisit(a,(null==b?void 0:b.restorationIdentifier)||s(),b)}visitStarted(a){this.location=a.location,a.loadCachedSnapshot(),a.issueRequest(),a.goToSamePageAnchor()}visitRequestStarted(a){this.progressBar.setValue(0),a.hasCachedSnapshot()||"restore"!=a.action?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(a){a.loadResponse()}visitRequestFailedWithStatusCode(a,b){switch(b){case at.networkFailure:case at.timeoutFailure:case at.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:b}});default:return a.loadResponse()}}visitRequestFinished(a){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(a){}pageInvalidated(a){this.reload(a)}visitFailed(a){}visitRendered(a){}formSubmissionStarted(a){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(a){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),null!=this.visitProgressBarTimeout&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){null==this.formProgressBarTimeout&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),null!=this.formProgressBarTimeout&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(a){n("turbo:reload",{detail:a}),this.location&&(window.location.href=this.location.toString())}get navigator(){return this.session.navigator}}(this),this.pageObserver=new class PageObserver{constructor(a){this.stage=au.initial,this.started=!1,this.interpretReadyState=()=>{let{readyState:a}=this;"interactive"==a?this.pageIsInteractive():"complete"==a&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=a}start(){this.started||(this.stage==au.initial&&(this.stage=au.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==au.loading&&(this.stage=au.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==au.interactive&&(this.stage=au.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}(this),this.cacheObserver=new class CacheObserver{constructor(){this.started=!1,this.removeStaleElements=a=>{let b=[...document.querySelectorAll('[data-turbo-cache="false"]')];for(let c of b)c.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeStaleElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeStaleElements,!1))}},this.linkClickObserver=new class LinkClickObserver{constructor(a){this.started=!1,this.clickCaptured=()=>{removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=a=>{if(this.clickEventIsSignificant(a)){let b=a.composedPath&&a.composedPath()[0]||a.target,c=this.findLinkFromClickTarget(b);if(c&&function a(b){for(let c of document.getElementsByName(b.target))if(c instanceof HTMLIFrameElement)return!1;return!0}(c)){let d=this.getLocationForLink(c);this.delegate.willFollowLinkToLocation(c,d,a)&&(a.preventDefault(),this.delegate.followedLinkToLocation(c,d))}}},this.delegate=a}start(){this.started||(addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(a){return!(a.target&&a.target.isContentEditable||a.defaultPrevented||a.which>1||a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)}findLinkFromClickTarget(a){if(a instanceof Element)return a.closest("a[href]:not([target^=_]):not([download])")}getLocationForLink(a){return g(a.getAttribute("href")||"")}}(this),this.formSubmitObserver=new FormSubmitObserver(this,document),this.scrollObserver=new class ScrollObserver{constructor(a){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=a}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(a){this.delegate.scrollPositionChanged(a)}}(this),this.streamObserver=new class StreamObserver{constructor(a){this.sources=new Set,this.started=!1,this.inspectFetchResponse=a=>{let b=function a(b){var c;let d=null===(c=b.detail)|| void 0===c?void 0:c.fetchResponse;if(d instanceof FetchResponse)return d}(a);b&&function a(b){var c;let d=null!==(c=b.contentType)&& void 0!==c?c:"";return d.startsWith(StreamMessage.contentType)}(b)&&(a.preventDefault(),this.receiveMessageResponse(b))},this.receiveMessageEvent=a=>{this.started&&"string"==typeof a.data&&this.receiveMessageHTML(a.data)},this.delegate=a}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(a){this.streamSourceIsConnected(a)||(this.sources.add(a),a.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(a){this.streamSourceIsConnected(a)&&(this.sources.delete(a),a.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(a){return this.sources.has(a)}async receiveMessageResponse(a){let b=await a.responseHTML;b&&this.receiveMessageHTML(b)}receiveMessageHTML(a){this.delegate.receivedMessageFromStream(new StreamMessage(a))}}(this),this.formLinkInterceptor=new FormLinkInterceptor(this,document.documentElement),this.frameRedirector=new class FrameRedirector{constructor(a,b){this.element=a,this.session=b,this.linkInterceptor=new LinkInterceptor(this,a),this.formSubmitObserver=new FormSubmitObserver(this,a)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(a,b){return this.shouldRedirect(a)}linkClickIntercepted(a,b){let c=this.findFrameElement(a);c&&c.delegate.linkClickIntercepted(a,b)}willSubmitForm(a,b){return null==a.closest("turbo-frame")&&this.shouldSubmit(a,b)&&this.shouldRedirect(a,b)}formSubmitted(a,b){let c=this.findFrameElement(a,b);c&&c.delegate.formSubmitted(a,b)}shouldSubmit(a,b){var c;let d=i(a,b),e=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),f=g(null!==(c=null==e?void 0:e.content)&& void 0!==c?c:"/");return this.shouldRedirect(a,b)&&this.session.locationIsVisitable(d,f)}shouldRedirect(a,b){let c=this.findFrameElement(a,b);return!!c&&c!=a.closest("turbo-frame")}findFrameElement(a,b){let c=(null==b?void 0:b.getAttribute("data-turbo-frame"))||a.getAttribute("data-turbo-frame");if(c&&"_top"!=c){let d=this.element.querySelector(`#${c}:not([disabled])`);if(d instanceof FrameElement)return d}}}(document.documentElement,this),this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkInterceptor.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkInterceptor.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(a){this.adapter=a}visit(a,b={}){this.navigator.proposeVisit(g(a),b)}connectStreamSource(a){this.streamObserver.connectStreamSource(a)}disconnectStreamSource(a){this.streamObserver.disconnectStreamSource(a)}renderStreamMessage(a){document.documentElement.appendChild(StreamMessage.wrap(a).fragment)}clearCache(){this.view.clearSnapshotCache()}isVisitable(a){var b,c,d;return!!(((c=b=a,(d=c).pathname.split("/").slice(1).slice(-1)[0]).match(/\.[^.]*$/)||[])[0]||"").match(/^(?:|\.(?:htm|html|xhtml|php))$/)}locationIsVisitable(a,b){return function(a,b){var c;let d=(c=b,l(c.origin+c.pathname));return a.href===g(d).href||a.href.startsWith(d)}(a,b)&&this.isVisitable(a)}setProgressBarDelay(a){this.progressBarDelay=a}setFormMode(a){this.formMode=a}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(a,b){this.enabled?this.navigator.startVisit(a,b,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(a){this.history.updateRestorationData({scrollPosition:a})}shouldInterceptFormLinkClick(a){return!0}formLinkClickIntercepted(a,b){}willFollowLinkToLocation(a,b,c){return this.elementDriveEnabled(a)&&this.locationIsVisitable(b,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(a,b,c)}followedLinkToLocation(a,b){let c=this.getActionForLink(a);this.visit(b.href,{action:c})}allowsVisitingLocationWithAction(a,b){return this.locationWithActionIsSamePage(a,b)||this.applicationAllowsVisitingLocation(a)}visitProposedToLocation(a,b){R(a),this.adapter.visitProposedToLocation(a,b)}visitStarted(a){R(a.location),a.silent||this.notifyApplicationAfterVisitingLocation(a.location,a.action)}visitCompleted(a){this.notifyApplicationAfterPageLoad(a.getTimingMetrics())}locationWithActionIsSamePage(a,b){return this.navigator.locationWithActionIsSamePage(a,b)}visitScrolledToSamePageLocation(a,b){this.notifyApplicationAfterVisitingSamePageLocation(a,b)}willSubmitForm(a,b){let c=i(a,b);return this.elementDriveEnabled(a)&&(!b||this.formElementDriveEnabled(b))&&this.locationIsVisitable(g(c),this.snapshot.rootLocation)}formSubmitted(a,b){this.navigator.submitForm(a,b)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(a){this.renderStreamMessage(a)}viewWillCacheSnapshot(){var a;(null===(a=this.navigator.currentVisit)|| void 0===a?void 0:a.silent)||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:a},b){let c=this.notifyApplicationBeforeRender(a,b),{defaultPrevented:d,detail:{render:e}}=c;return this.view.renderer&&e&&(this.view.renderer.renderElement=e),!d}viewRenderedSnapshot(a,b){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(a){this.preloader.preloadOnLoadLinksForView(a)}viewInvalidated(a){this.adapter.pageInvalidated(a)}frameLoaded(a){this.notifyApplicationAfterFrameLoad(a)}frameRendered(a,b){this.notifyApplicationAfterFrameRender(a,b)}applicationAllowsFollowingLinkToLocation(a,b,c){let d=this.notifyApplicationAfterClickingLinkToLocation(a,b,c);return!d.defaultPrevented}applicationAllowsVisitingLocation(a){let b=this.notifyApplicationBeforeVisitingLocation(a);return!b.defaultPrevented}notifyApplicationAfterClickingLinkToLocation(a,b,c){return n("turbo:click",{target:a,detail:{url:b.href,originalEvent:c},cancelable:!0})}notifyApplicationBeforeVisitingLocation(a){return n("turbo:before-visit",{detail:{url:a.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(a,b){return u(document.documentElement),n("turbo:visit",{detail:{url:a.href,action:b}})}notifyApplicationBeforeCachingSnapshot(){return n("turbo:before-cache")}notifyApplicationBeforeRender(a,b){return n("turbo:before-render",{detail:Object.assign({newBody:a},b),cancelable:!0})}notifyApplicationAfterRender(){return n("turbo:render")}notifyApplicationAfterPageLoad(a={}){return v(document.documentElement),n("turbo:load",{detail:{url:this.location.href,timing:a}})}notifyApplicationAfterVisitingSamePageLocation(a,b){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:a.toString(),newURL:b.toString()}))}notifyApplicationAfterFrameLoad(a){return n("turbo:frame-load",{target:a})}notifyApplicationAfterFrameRender(a,b){return n("turbo:frame-render",{detail:{fetchResponse:a},target:b,cancelable:!0})}formElementDriveEnabled(a){if("off"==this.formMode)return!1;if("optin"==this.formMode){let b=null==a?void 0:a.closest("form[data-turbo]");return(null==b?void 0:b.getAttribute("data-turbo"))=="true"}return this.elementDriveEnabled(a)}elementDriveEnabled(a){let b=null==a?void 0:a.closest("[data-turbo]");return this.drive?!b||"false"!=b.getAttribute("data-turbo"):!!b&&"true"==b.getAttribute("data-turbo")}getActionForLink(a){let b=a.getAttribute("data-turbo-action");return m(b)?b:"advance"}get snapshot(){return this.view.snapshot}},V=new class Cache{constructor(a){this.session=a}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(a){var b,c;let d;b="turbo-cache-control",c=a,(d=x(b))||((d=document.createElement("meta")).setAttribute("name",b),document.head.appendChild(d)),d.setAttribute("content",c)}}(U),{navigator:W}=U;function X(){U.start()}function Y(a){U.registerAdapter(a)}function Z(a,b){U.visit(a,b)}function $(a){U.connectStreamSource(a)}function _(a){U.disconnectStreamSource(a)}function aa(a){U.renderStreamMessage(a)}function ab(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),U.clearCache()}function ac(a){U.setProgressBarDelay(a)}function ad(a){FormSubmission.confirmMethod=a}function ae(a){U.setFormMode(a)}var af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av=Object.freeze({__proto__:null,navigator:W,session:U,cache:V,PageRenderer:PageRenderer,PageSnapshot:PageSnapshot,FrameRenderer:FrameRenderer,start:X,registerAdapter:Y,visit:Z,connectStreamSource:$,disconnectStreamSource:_,renderStreamMessage:aa,clearCache:ab,setProgressBarDelay:ac,setConfirmMethod:ad,setFormMode:ae,StreamActions:T});function aw(a){if(null!=a){let b=document.getElementById(a);if(b instanceof FrameElement)return b}}function ax(a,b){if(a){var c,d;let e=a.getAttribute("src");if(null!=e&&null!=b&&(c=e,d=b,g(c).href==g(d).href))throw Error(`Matching <turbo-frame id="${a.id}"> element has a source URL which references itself`);if(a.ownerDocument!==document&&(a=document.importNode(a,!0)),a instanceof FrameElement)return a.connectedCallback(),a.disconnectedCallback(),a}}class StreamElement extends HTMLElement{async connectedCallback(){try{await this.render()}catch(a){console.error(a)}finally{this.disconnect()}}async render(){var a;return null!==(a=this.renderPromise)&& void 0!==a?a:this.renderPromise=(async()=>{this.dispatchEvent(this.beforeRenderEvent)&&(await o(),this.performAction())})()}disconnect(){try{this.remove()}catch(a){}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(a=>a.remove())}get duplicateChildren(){var a;let b=this.targetElements.flatMap(a=>[...a.children]).filter(a=>!!a.id),c=[...(null===(a=this.templateContent)|| void 0===a?void 0:a.children)||[]].filter(a=>!!a.id).map(a=>a.id);return b.filter(a=>c.includes(a.id))}get performAction(){if(this.action){let a=T[this.action];if(a)return a;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){return this.target?this.targetElementsById:this.targets?this.targetElementsByQuery:void this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(a){throw Error(`${this.description}: ${a}`)}get description(){var a,b;return null!==(b=(null!==(a=this.outerHTML.match(/<[^>]+>/))&& void 0!==a?a:[])[0])&& void 0!==b?b:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0})}get targetElementsById(){var a;let b=null===(a=this.ownerDocument)|| void 0===a?void 0:a.getElementById(this.target);return null!==b?[b]:[]}get targetElementsByQuery(){var a;let b=null===(a=this.ownerDocument)|| void 0===a?void 0:a.querySelectorAll(this.targets);return 0!==b.length?Array.prototype.slice.call(b):[]}}class StreamSourceElement extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),$(this.streamSource)}disconnectedCallback(){this.streamSource&&_(this.streamSource)}get src(){return this.getAttribute("src")||""}}FrameElement.delegateConstructor=class FrameController{constructor(a){this.fetchResponseLoaded=a=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:a})=>{let b=a.querySelector("#"+this.element.id);b&&this.previousFrameElement&&b.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=a,this.view=new class FrameView extends View{invalidate(){this.element.innerHTML=""}get snapshot(){return new Snapshot(this.element)}}(this,this.element),this.appearanceObserver=new class AppearanceObserver{constructor(a,b){this.started=!1,this.intersect=a=>{let b=a.slice(-1)[0];(null==b?void 0:b.isIntersecting)&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=a,this.element=b,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}(this,this.element),this.formLinkInterceptor=new FormLinkInterceptor(this,this.element),this.linkInterceptor=new LinkInterceptor(this,this.element),this.restorationIdentifier=s(),this.formSubmitObserver=new FormSubmitObserver(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==an.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkInterceptor.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkInterceptor.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==an.eager&&this.loadSourceURL()}sourceURLChanged(){!this.isIgnoringChangesTo("src")&&(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==an.eager||this.hasBeenLoaded)&&this.loadSourceURL())}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==an.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(g(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(a){(a.redirected||a.succeeded&&a.isHTML)&&(this.sourceURL=a.response.url);try{let b=await a.responseHTML;if(b){let{body:c}=p(b),d=new Snapshot(await this.extractForeignFrameElement(c)),e=new FrameRenderer(this,this.view.snapshot,d,FrameRenderer.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(e),this.complete=!0,U.frameRendered(a,this.element),U.frameLoaded(this.element),this.fetchResponseLoaded(a)}}catch(f){console.error(f),this.view.invalidate()}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(a){this.loadSourceURL()}shouldInterceptFormLinkClick(a){return this.shouldInterceptNavigation(a)}formLinkClickIntercepted(a,b){let c=this.findFrameElement(a);c&&b.setAttribute("data-turbo-frame",c.id)}shouldInterceptLinkClick(a,b){return this.shouldInterceptNavigation(a)}linkClickIntercepted(a,b){this.navigateFrame(a,b)}willSubmitForm(a,b){return a.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(a,b)}formSubmitted(a,b){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new FormSubmission(this,a,b);let{fetchRequest:c}=this.formSubmission;this.prepareHeadersForRequest(c.headers,c),this.formSubmission.start()}prepareHeadersForRequest(a,b){a["Turbo-Frame"]=this.id}requestStarted(a){u(this.element)}requestPreventedHandlingResponse(a,b){this.resolveVisitPromise()}async requestSucceededWithResponse(a,b){await this.loadResponse(b),this.resolveVisitPromise()}requestFailedWithResponse(a,b){console.error(b),this.resolveVisitPromise()}requestErrored(a,b){console.error(b),this.resolveVisitPromise()}requestFinished(a){v(this.element)}formSubmissionStarted({formElement:a}){u(a,this.findFrameElement(a))}formSubmissionSucceededWithResponse(a,b){let c=this.findFrameElement(a.formElement,a.submitter);this.proposeVisitIfNavigatedWithAction(c,a.formElement,a.submitter),c.delegate.loadResponse(b)}formSubmissionFailedWithResponse(a,b){this.element.delegate.loadResponse(b)}formSubmissionErrored(a,b){console.error(b)}formSubmissionFinished({formElement:a}){v(a,this.findFrameElement(a))}allowsImmediateRender({element:a},b){let c=n("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:a},b),cancelable:!0}),{defaultPrevented:d,detail:{render:e}}=c;return this.view.renderer&&e&&(this.view.renderer.renderElement=e),!d}viewRenderedSnapshot(a,b){}preloadOnLoadLinksForView(a){U.preloadOnLoadLinksForView(a)}viewInvalidated(){}willRenderFrame(a,b){this.previousFrameElement=a.cloneNode(!0)}async visit(a){var b;let c=new FetchRequest(this,ao.get,a,new URLSearchParams,this.element);return null===(b=this.currentFetchRequest)|| void 0===b||b.cancel(),this.currentFetchRequest=c,new Promise(a=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,a()},c.perform()})}navigateFrame(a,b,c){let d=this.findFrameElement(a,c);this.proposeVisitIfNavigatedWithAction(d,a,c),d.src=b}proposeVisitIfNavigatedWithAction(a,b,c){if(this.action=function(...a){let b=t("data-turbo-action",...a);return m(b)?b:null}(c,b,a),this.frame=a,m(this.action)){let{visitCachedSnapshot:d}=a.delegate;a.delegate.fetchResponseLoaded=b=>{if(a.src){let{statusCode:c,redirected:e}=b,f=a.ownerDocument.documentElement.outerHTML,g={statusCode:c,redirected:e,responseHTML:f},h={response:g,visitCachedSnapshot:d,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier};this.action&&(h.action=this.action),U.visit(a.src,h)}}}}changeHistory(){if(this.action&&this.frame){let a=w(this.action);U.history.update(a,g(this.frame.src||""),this.restorationIdentifier)}}findFrameElement(a,b){var c;let d=t("data-turbo-frame",b,a)||this.element.getAttribute("target");return null!==(c=aw(d))&& void 0!==c?c:this.element}async extractForeignFrameElement(a){let b,c=CSS.escape(this.id);try{if(b=ax(a.querySelector(`turbo-frame#${c}`),this.sourceURL))return b;if(b=ax(a.querySelector(`turbo-frame[src][recurse~=${c}]`),this.sourceURL))return await b.loaded,await this.extractForeignFrameElement(b);console.error(`Response has no matching <turbo-frame id="${c}"> element`)}catch(d){console.error(d)}return new FrameElement}formActionIsVisitable(a,b){let c=i(a,b);return U.locationIsVisitable(g(c),this.rootLocation)}shouldInterceptNavigation(a,b){let c=t("data-turbo-frame",b,a)||this.element.getAttribute("target");if(a instanceof HTMLFormElement&&!this.formActionIsVisitable(a,b)||!this.enabled||"_top"==c)return!1;if(c){let d=aw(c);if(d)return!d.disabled}return!!(U.elementDriveEnabled(a)&&(!b||U.elementDriveEnabled(b)))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(a){this.ignoringChangesToAttribute("src",()=>{this.element.src=null!=a?a:null})}get loadingStyle(){return this.element.loading}get isLoading(){return void 0!==this.formSubmission|| void 0!==this.resolveVisitPromise()}get complete(){return this.element.hasAttribute("complete")}set complete(a){this.ignoringChangesToAttribute("complete",()=>{a?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var a;let b=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),c=null!==(a=null==b?void 0:b.content)&& void 0!==a?a:"/";return g(c)}isIgnoringChangesTo(a){return this.ignoredAttributes.has(a)}ignoringChangesToAttribute(a,b){this.ignoredAttributes.add(a),b(),this.ignoredAttributes.delete(a)}},void 0===customElements.get("turbo-frame")&&customElements.define("turbo-frame",FrameElement),void 0===customElements.get("turbo-stream")&&customElements.define("turbo-stream",StreamElement),void 0===customElements.get("turbo-stream-source")&&customElements.define("turbo-stream-source",StreamSourceElement),(()=>{let a=document.currentScript;if(a&&!a.hasAttribute("data-turbo-suppress-warning"))for(a=a.parentElement;a;){if(a==document.body)return console.warn(q`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,a.outerHTML);a=a.parentElement}})(),window.Turbo=av,X()}}])
//# sourceMappingURL=vendors-node_modules_manuelpuyol_turbo_dist_turbo_es2017-esm_js-f31f9ac82e49.js.map